var HotRiot={};HotRiot.lastHotRiotProcessingErrorCode=0;HotRiot.lastHotRiotProcessingError="";HotRiot.fullyQualifiedHRDAURL="";HotRiot.fullyQualifiedHRURL="";HotRiot.HotRiotProtocol="https://";HotRiot.INVALID_DBN_FN_RN=[1,"The database name, field name or record number is not valid."];HotRiot.LOCATING_DBN_DBFN=[2,"Could not locate either the database name or the database field names."];HotRiot.LOCATING_FN_JDB=[3,"Could not locate the field names for the join database: "];HotRiot.LOCATING_FN_TDB=[4,"Could not locate the field names for the trigger database: "];HotRiot.INVALID_ACTION=[5,"Invalid action."];HotRiot.INVALID_RECORD_NUMBER=[6,"Invalid record number."];HotRiot.INVALID_QUERY_STRING=[7,"Invalid query string."];HotRiot.bindForm=function(e,t,n,r){HotRiot.clearLastProcessingErrorCode();var i=new Object;i.dataType="json";i.timeout=15e3;i.cache=false;if(t!=null)i.beforeSubmit=t;i.beforeSerialize=HotRiot.beforeSerializeProcessing;i.success=n;i.error=r;i.type="post";i.url=HotRiot.fullyQualifiedHRURL;$("#"+e).ajaxForm(i)};HotRiot.init=function(e){HotRiot.clearLastProcessingErrorCode();HotRiot.fullyQualifiedHRURL=HotRiot.HotRiotProtocol+e+".k222.info/process";HotRiot.QualifiedHRDAURL=HotRiot.HotRiotProtocol+e+".k222.info/da"};HotRiot.postLink=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=e.split("?");if(r.length==2)$.ajax({url:r[0],data:r[1],success:t,error:n,timeout:15e3,xhrFields:{withCredentials:true},dataType:"json"});else HotRiot.setLastProcessingError(HotRiot.INVALID_QUERY_STRING)};HotRiot.submitRequest=function(e,t,n){HotRiot.clearLastProcessingErrorCode();$.ajax({url:HotRiot.fullyQualifiedHRURL,data:e,success:t,error:n,timeout:15e3,type:"post",xhrFields:{withCredentials:true},dataType:"json"});return false};HotRiot.submitRecord=function(e,t,n,r){t["hsp-formname"]=e;HotRiot.submitRequest(t,n,r)};HotRiot.submitUpdateRecord=function(e,t,n,r,i,s){t["hsp-formname"]=e;t["hsp-json"]=n;t["hsp-recordID"]=r;HotRiot.submitRequest(t,i,s)};HotRiot.submitSearch=function(e,t,n,r){t["hsp-formname"]=e;HotRiot.submitRequest(t,n,r)};HotRiot.submitLogin=function(e,t,n,r){t["hsp-formname"]=e;HotRiot.submitRequest(t,n,r)};HotRiot.submitNotification=function(e,t,n,r){t["hsp-formname"]=e;t["hsp-rtninsert"]="1";HotRiot.submitRequest(t,n,r)};HotRiot.submitLostLoginLookup=function(e,t,n,r){t["hsp-formname"]=e;HotRiot.submitRequest(t,n,r)};HotRiot.submitRecordCountActual=function(e,t,n,r){e["hsp-initializepage"]="hsp-json";e["hsp-action"]="recordcount";e["hsp-sll"]=r;e.sinceLastLogin=false;HotRiot.submitRequest(e,t,n)};HotRiot.submitRecordCount=function(e,t,n){HotRiot.submitRecordCountActual(e,t,n,"false")};HotRiot.submitRecordCountSLL=function(e,t,n){HotRiot.submitRecordCountActual(e,t,n,"true")};HotRiot.postForm=function(e,t,n,r,i){HotRiot.clearLastProcessingErrorCode();var s=new Object;s.dataType="json";s.timeout=15e3;s.cache=false;if(t!=null)s.beforeSubmit=t;if(i==null)s.beforeSerialize=HotRiot.beforeSerializeProcessing;else if(i[0]=="notification")s.beforeSerialize=HotRiot.beforeSerializeNotificationProcessing;else if(i[0]=="recordUpdate"){s.extra=i;s.beforeSerialize=HotRiot.beforeSerializeRecordUpdateProcessing}s.success=n;s.error=r;s.type="post";s.url=HotRiot.fullyQualifiedHRURL;s.crossDomain=true;s.xhrFields=new Object;s.xhrFields["withCredentials"]=true;$("#"+e).ajaxSubmit(s);return false};HotRiot.postRecord=function(e,t,n){return HotRiot.postForm(e,null,t,n,null)};HotRiot.postUpdateRecord=function(e,t,n,r,i){return HotRiot.postForm(e,null,r,i,new Array("recordUpdate",t,n))};HotRiot.postSearch=function(e,t,n){return HotRiot.postForm(e,null,t,n,null)};HotRiot.postLogin=function(e,t,n){return HotRiot.postForm(e,null,t,n,null)};HotRiot.postNotification=function(e,t,n){return HotRiot.postForm(e,null,t,n,new Array("notification"))};HotRiot.postLostLoginLookup=function(e,t,n){return HotRiot.postForm(e,null,t,n,null)};HotRiot.getResults=function(e){HotRiot.clearLastProcessingErrorCode();var t=new Object;t.resultCode=HotRiot.getResultCode(e);t.resultText=HotRiot.getResultText(e);t.resultMessage=HotRiot.getResultMessage(e);t.processingTimeStamp=HotRiot.getProcessingTimestamp(e);return t};HotRiot.getRecordCountInfo=function(e){HotRiot.clearLastProcessingErrorCode();var t=new Object;t.recordCount=HotRiot.getRecordCountForThisPage(e);t.pageCount=HotRiot.getPageCount(e);t.pageNumber=HotRiot.getPageNumber(e);t.totalRecordsFound=HotRiot.getTotalRecordsFound(e);return t};HotRiot.getSearchPageLinks=function(e){HotRiot.clearLastProcessingErrorCode();var t=new Object;t.firstPageSearchLink=HotRiot.getFirstPageSearchLink(e);t.nextPageSearchLink=HotRiot.getNextPageSearchLink(e);t.previousPageSearchLink=HotRiot.getPreviousPageSearchLink(e);t.returnToSearchLink=HotRiot.getReturnSearchLink(e);return t};HotRiot.getSubscriptionInfo=function(e){HotRiot.clearLastProcessingErrorCode();var t=new Object;t.loggedInStatus=HotRiot.getLoggedInStatus(e);t.subscriptionStatus=HotRiot.getSubscriptionStatus(e);return t};HotRiot.getRecordLinkInfo=function(e,t){HotRiot.clearLastProcessingErrorCode();var n=new Object;if(HotRiot.isValidRecordNumber(e,t)==true){n.recordLink=HotRiot.getRecordLink(e,t);n.deleteRecordLink=HotRiot.getDeleteRecordLink(e,t);n.editRecordPswd=HotRiot.getEditRecordPswd(e,t)}else{n.recordLink="";n.deleteRecordLink="";n.editRecordPswd=""}return n};HotRiot.getDatabaseFieldInfo=function(e,t,n,r){HotRiot.clearLastProcessingErrorCode();var i=n+"::"+t;var s="record_"+e;var o=null;if(r.recordData[s].fieldData[i]!=null){o=new Object;o.value=r.recordData[s].fieldData[i].value;o.dataType=r.recordData[s].fieldData[i].dataType;o.dataCount=r.recordData[s].fieldData[i].dataCount;o.sortLink=r.recordData[s].fieldData[i].sortLink;o.fieldName=t;o.databaseName=n;if(o.dataType=="File"){o.fileLinkURL=r.recordData[s].fieldData[i].fileLinkURL;if((o.isPicture=HotRiot.isImage(o.value[0]))==true)o.thumbnailLinkURL=r.recordData[s].fieldData[i].thumbnailLinkURL;else o.thumbnailLinkURL=""}else o.isPicture=false}else HotRiot.setLastProcessingError(HotRiot.INVALID_DBN_FN_RN);return o};HotRiot.getResultCode=function(e){return HotRiot.getGeneralInfo(e,"processingResultCode")};HotRiot.getResultText=function(e){return HotRiot.getGeneralInfo(e,"processingResult")};HotRiot.getResultMessage=function(e){return HotRiot.getGeneralInfo(e,"processingResultMessage")};HotRiot.getProcessingTimestamp=function(e){return HotRiot.getGeneralInfo(e,"timeStamp")};HotRiot.getAction=function(e){return HotRiot.getGeneralInfo(e,"action")};HotRiot.getLastLogin=function(e){return HotRiot.getGeneralInfo(e,"lastLogin")};HotRiot.getSearchName=function(e){return HotRiot.getGeneralInfo(e,"searchName")};HotRiot.getPageCount=function(e){return HotRiot.getGeneralInfo(e,"pageCount")};HotRiot.getPageNumber=function(e){return HotRiot.getGeneralInfo(e,"pageNumber")};HotRiot.getTotalRecordsFound=function(e){return HotRiot.getGeneralInfo(e,"totalRecordsFound")};HotRiot.getLoggedInStatus=function(e){return HotRiot.getGeneralInfo(e,"loggedInStatus")};HotRiot.getSubscriptionStatus=function(e){return HotRiot.getGeneralInfo(e,"subscriptionStatus")};HotRiot.getLoggedInUserID=function(e){return HotRiot.getGeneralInfo(e,"loggedInUserID")};HotRiot.getLoggedInUserInfoLink=function(e){return HotRiot.getGeneralInfo(e,"loggedInUserInfoLink")};HotRiot.getRecordCountForThisPage=function(e){return HotRiot.getGeneralInfo(e,"recordCount")};HotRiot.getFirstPageSearchLink=function(e){return HotRiot.getGeneralInfo(e,"firstPageLinkURL")};HotRiot.getNextPageSearchLink=function(e){return HotRiot.getGeneralInfo(e,"nextPageLinkURL")};HotRiot.getPreviousPageSearchLink=function(e){return HotRiot.getGeneralInfo(e,"previousPageLinkURL")};HotRiot.getReturnSearchLink=function(e){return HotRiot.getGeneralInfo(e,"returnToSearchLink")};HotRiot.getCallbackData=function(e){return HotRiot.getGeneralInfo(e,"userData")};HotRiot.isUpdate=function(e){return HotRiot.getGeneralInfo(e,"isUpdate")};HotRiot.getDatePosted=function(e){return HotRiot.getGeneralInfo(e,"datePosted")};HotRiot.getRequestProcessingTime=function(e){return HotRiot.getGeneralInfo(e,"timeStamp")};HotRiot.getRecordLink=function(e,t){return t.recordData["record_"+e].recordLink};HotRiot.getDeleteRecordLink=function(e,t){return t.recordData["record_"+e].deleteRecordLink};HotRiot.getEditRecordPswd=function(e,t){return t.recordData["record_"+e].editRecordPswd};HotRiot.getRecID=function(e,t){return t.recordData["record_"+e].recordID};HotRiot.getDatabaseName=function(e){return HotRiot.getGeneralInfo(e,"databaseName")};HotRiot.getFieldNames=function(e){return HotRiot.getGeneralInfo(e,"databaseFieldNames")};HotRiot.getRecord=function(e,t){var n=null;if(t==null||t==""||t==undefined)t=1;if(HotRiot.isValidRecordNumber(t,e)==true){var r=HotRiot.getDatabaseName(e);var i=HotRiot.getFieldNames(e);if(r!=""&&i!=""){n=new Object;for(var s=0;s<i.length;s++)n[i[s]]=HotRiot.getDatabaseFieldInfo(t,i[s],r,e)}else HotRiot.setLastProcessingError(HotRiot.LOCATING_DBN_DBFN)}return n};HotRiot.getJoinDatabaseNames=function(e){return HotRiot.getGeneralInfo(e,"join")};HotRiot.getJoinFieldNames=function(e,t){HotRiot.clearLastProcessingErrorCode();var n=HotRiot.getJoinDatabaseNames(t);if(n!="")for(var r=0;r<n.length;r++)if(n[r]==e)return t.generalInformation.joinFieldNames[r];return new Array};HotRiot.getJoinRecord=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=null;if(HotRiot.isValidRecordNumber(e,n)==true){var i=HotRiot.getJoinFieldNames(t,n);if(i.length>0){r=new Object;for(var s=0;s<i.length;s++)r[i[s]]=HotRiot.getDatabaseFieldInfo(e,i[s],t,n)}else{HotRiot.setLastProcessingError(HotRiot.appendToErrorMessage(HotRiot.LOCATING_FN_JDB,t+"."))}}return r};HotRiot.getTriggerDatabaseNames=function(e){return HotRiot.getGeneralInfo(e,"trigger")};HotRiot.getTriggerFieldNames=function(e,t){HotRiot.clearLastProcessingErrorCode();var n=HotRiot.getTriggerDatabaseNames(t);if(n!="")for(var r=0;r<n.length;r++)if(n[r]==e)return t.generalInformation.triggerFieldNames[r];return new Array};HotRiot.getTriggerRecordInfo=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=null;if(HotRiot.isValidRecordNumber(e,n)==true){var s=HotRiot.getTriggerFieldNames(t,n);if(s.length>0){r=new Object;for(i=0;i<s.length;i++)r[s[i]]=HotRiot.getDatabaseFieldInfo(e,s[i],t,n)}else HotRiot.setLastProcessingError(HotRiot.appendToErrorMessage(HotRiot.LOCATING_FN_TDB,t+"."))}return r};HotRiot.getNextPage=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=HotRiot.getNextPageSearchLink(e);if(r!=null&&r!=""){HotRiot.postLink(r,t,n);return true}return false};HotRiot.getPreviousPage=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=HotRiot.getPreviousPageSearchLink(e);if(r!=null&&r!=""){HotRiot.postLink(r,t,n);return true}return false};HotRiot.getFirstPage=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=HotRiot.getFirstPageSearchLink(e);if(r!=null&&r!=""){HotRiot.postLink(r,t,n);return true}return false};HotRiot.getJsonResponseFromRSL=function(e,t,n){HotRiot.clearLastProcessingErrorCode();if(e!=null&&e!=""){HotRiot.postLink(e,t,n);return true}return false};HotRiot.sortSearchResults=function(e,t,n,r){HotRiot.clearLastProcessingErrorCode();return HotRiot.sortSearchResultsEx(null,e,t,n,r)};HotRiot.sortSearchResultsEx=function(e,t,n,r,i){HotRiot.clearLastProcessingErrorCode();var s;if(e==null){e=HotRiot.getDatabaseName(n);s=HotRiot.getDatabaseFieldInfo(1,t,e,n);if(s==null){var o=HotRiot.getJoinDatabaseNames(n);if(o!=""&&o.length>0)for(var u=0;u<o.length;u++){s=HotRiot.getDatabaseFieldInfo(1,t,o[u],n);if(s!=null)break}}if(s==null){var a=HotRiot.getTriggerDatabaseNames(n);if(a!=""&&a.length>0)for(var f=0;f<a.length;f++){s=HotRiot.getDatabaseFieldInfo(1,t,a[f],n);if(s!=null)break}}if(s!=null){HotRiot.postLink(s.sortLink,r,i);return true}}else{s=HotRiot.getDatabaseFieldInfo(1,t,e,n);if(s!=null){HotRiot.postLink(s.sortLink,r,i);return true}}return false};HotRiot.getGeneralInfo=function(e,t){HotRiot.clearLastProcessingErrorCode();var n;try{n=e.generalInformation[t];if(n==null)n=""}catch(r){n=""}return n};HotRiot.isValidRecordNumber=function(e,t){HotRiot.clearLastProcessingErrorCode();if(e>0&&e<=HotRiot.getRecordCountForThisPage(t))return true;else{HotRiot.setLastProcessingError(HotRiot.INVALID_RECORD_NUMBER);return false}};HotRiot.isImage=function(e){HotRiot.clearLastProcessingErrorCode();var t=e.split(".");if(t.length>1){var n=t[t.length-1];if(n=="jpg"||n=="jpeg")return true}return false};HotRiot.getLastProcessingErrorCode=function(){return HotRiot.lastHotRiotProcessingErrorCode};HotRiot.getLastProcessingErrorMessage=function(){return HotRiot.lastHotRiotProcessingError};HotRiot.clearLastProcessingErrorCode=function(){HotRiot.lastHotRiotProcessingErrorCode=0;HotRiot.lastHotRiotProcessingError=""};HotRiot.getFormID=function(e){return HotRiot.getFormDataValue(e,"hsp-formname")};HotRiot.getFormDataValue=function(e,t){HotRiot.clearLastProcessingErrorCode();for(var n=0;n<e.length;n++)if(e[n].name==t)return e[n].value;return null};HotRiot.getAllFormFieldNames=function(e){HotRiot.clearLastProcessingErrorCode();var t=new Array;for(var n=0;n<e.length;n++)t[n]=e[n].name;return t};HotRiot.setLastProcessingError=function(e){lastHotRiotProcessingErrorCode=e[0];lastHotRiotProcessingError=e[1]};HotRiot.beforeSerializeProcessing=function(e,t){var n=e[0];var r=document.createElement("input");r.setAttribute("type","hidden");r.setAttribute("name","hsp-formname");r.setAttribute("value",n.id);n.appendChild(r)};HotRiot.beforeSerializeNotificationProcessing=function(e,t){HotRiot.beforeSerializeProcessing(e,t);var n=document.createElement("input");n.setAttribute("type","hidden");n.setAttribute("name","hsp-rtninsert");n.setAttribute("value","1");formObj.appendChild(n)};HotRiot.beforeSerializeRecordUpdateProcessing=function(e,t){HotRiot.beforeSerializeProcessing(e,t);var n=document.createElement("input");n.setAttribute("type","hidden");n.setAttribute("name","hsp-json");n.setAttribute("value",t.extra[1]);formObj.appendChild(n);var r=document.createElement("input");r.setAttribute("type","hidden");r.setAttribute("name","hsp-recordID");r.setAttribute("value",t.extra[2]);formObj.appendChild(r);delete t.extra};HotRiot.appendToErrorMessage=function(e,t){var n=new Array(e[0],e[1]+t);return n};HotRiot.getUserInfo=function(e,t,n){HotRiot.clearLastProcessingErrorCode();var r=HotRiot.getLoggedInUserInfoLink(e);if(r!=""){HotRiot.postLink(r,t,n);return true}else return false};HotRiot.deleteRecord=function(e,t,n,r){HotRiot.clearLastProcessingErrorCode();if(HotRiot.isValidRecordNumber(e,t)==true){var i=HotRiot.getDeleteRecordLink(e,t);if(i!=null&&i!=""){HotRiot.postLink(i,n,r);return true}else return false}else return false};HotRiot.getEditRecordPassword=function(e,t){if(t==null||t==""||t==undefined)t=1;var n="";if(HotRiot.isValidRecordNumber(t,e)==true){n=HotRiot.getEditRecordPswd(t,e);if(n==null)n=""}return n};HotRiot.getRecordID=function(e,t){if(t==null||t==""||t==undefined)t=1;var n="";if(HotRiot.isValidRecordNumber(t,e)==true){n=HotRiot.getRecID(t,e);if(n==null)n=""}return n};HotRiot.getInsertData=function(e){return HotRiot.getRecord(e,1)};HotRiot.getTriggerRecord=function(e,t){return HotRiot.getTriggerRecordInfo(1,e,t)};HotRiot.isActionValid=function(e,t){var n=HotRiot.getAction(e);if(n==t)return true;else return false};HotRiot.getSubscriptionDetails=function(e){HotRiot.clearLastProcessingErrorCode();if(HotRiot.isActionValid(e,"userData")==false){HotRiot.setLastProcessingError(HotRiot.INVALID_ACTION);return""}var t=new Object;t.servicePlan=e.subscriptionDetails["servicePlan"];t.accountStatus=e.subscriptionDetails["accountStatus"];if(t.accountStatus!="Inactive"&&t.accountStatus!="Always Active"){if(t.accountStatus=="Active for a number of days")t.remainingDaysActive=e.subscriptionDetails["remainingdaysActive"];if(t.accountStatus=="Active while account balance is positive"){t.currentAccountBalance=e.subscriptionDetails["currentAccountBalance"];t.dailyRate=e.subscriptionDetails["dailyRate"]}}if(t.accountStatus!="Inactive"){t.usageRestrictions=e.subscriptionDetails["usageRestrictions"];if(t.usageRestrictions=="By number of records")t.recordStorageRestriction=e.subscriptionDetails["recordStorageRestriction"]}return t};HotRiot.getRegDatabaseName=function(e){return HotRiot.getDatabaseName(e)};HotRiot.getRegFieldNames=function(e){return HotRiot.getFieldNames(e)};HotRiot.getInsertDatabaseName=function(e){return HotRiot.getDatabaseName(e)};HotRiot.getInsertFieldNames=function(e){return HotRiot.getFieldNames(e)};HotRiot.getPaymentInfo=function(e,t){var n=new Object;if(HotRiot.isValidPaymentNumber(e,t)==true){var r="payment_"+e;n.paymentAmount=t.subscriptionPaymentInfo[r].paymentAmount;n.servicePlan=t.subscriptionPaymentInfo[r].servicePlan;n.paymentProcessor=t.subscriptionPaymentInfo[r].paymentProcessor;n.transactionID=t.subscriptionPaymentInfo[r].transactionID;n.transactionDate=t.subscriptionPaymentInfo[r].transactionDate;n.currency=t.subscriptionPaymentInfo[r].currency}return n};HotRiot.isValidPaymentNumber=function(e,t){HotRiot.clearLastProcessingErrorCode();if(e>0&&e<=HotRiot.getPaymentCount(t))return true;else{HotRiot.setLastProcessingError(HotRiot.INVALID_RECORD_NUMBER);return false}};HotRiot.getPaymentCount=function(e){HotRiot.clearLastProcessingErrorCode();var t=e.subscriptionPaymentInfo.paymentCount;if(t==null)t=0;return t};HotRiot.getTotalPaid=function(e){HotRiot.clearLastProcessingErrorCode();if(HotRiot.getPaymentCount(e)==0)return 0;else return e.subscriptionPaymentInfo.totalPaid};HotRiot.getTotalPaid=function(e){return HotRiot.getRecord(e,1)};HotRiot.getLoginName=function(e){return HotRiot.getSearchName(e)};HotRiot.getNotificationDatabaseName=function(e){return HotRiot.getDatabaseName(e)};HotRiot.getNotificationFieldNames=function(e){return HotRiot.getFieldNames(e)};HotRiot.getNotificationData=function(e){return HotRiot.getRecord(e,1)};HotRiot.getExcelDownloadLink=function(e){return HotRiot.getGeneralInfo(e,"excelDownloadLink")};HotRiot.getRecordDetails=function(e,t,n,r){HotRiot.clearLastProcessingErrorCode();if(HotRiot.isValidRecordNumber(e,t)==true){var i=HotRiot.getRecordLink(e,t);if(i!=null&&i!=""){HotRiot.postLink(i,n,r);return true}else return false}else return false};HotRiot.getRecordCountDatabaseName=function(e){return HotRiot.getDatabaseName(e)};HotRiot.getRecordCount=function(e){return HotRiot.getGeneralInfo(e,"recordCount")};HotRiot.getOptionalRecordCountParameters=function(e){HotRiot.clearLastProcessingErrorCode();var t=new Object;t.fieldName=HotRiot.getGeneralInfo(e,"fieldName");t.operator=HotRiot.getGeneralInfo(e,"operator");t.comparator=HotRiot.getGeneralInfo(e,"comparator");return t};HotRiot.getSinceLastLoginFlag=function(e){return HotRiot.getGeneralInfo(e,"sll")};HotRiot.logout=function(e,t,n){var r=new String("");if(e!=null&&e!=undefined){var i=e["hsp-callbackdata"];if(i!=null&&i!=undefined&&i!="")r.concat("&hsp-callbackdata=",i)}HotRiot.postLink(HotRiot.fullyQualifiedHRDAURL+"?hsp-logout=hsp-json"+r,t,n);return true}